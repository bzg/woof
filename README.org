#+title: Woof!

Woof monitors a mailbox, stores messages in a database depending on
their headers and exposes a webpage with information on stored
messages.

Your mailbox needs to be subscribed to a mailing list and people on
the mailing list need to manually set the headers corresponding to the
events they want to store and advertize through the webpage.

[[file:woof.png]]

* Events

Woof uses these headers:

- X-Woof-Bug :: For declaring a bug as =confirmed= or =fixed=.

- X-Woof-Help :: For requesting help or canceling a help request.

- X-Woof-Change :: For declaring that a =commit= implements a change
  users need to be aware of in an upcoming =version=.  You can also
  cancel the change.

- X-Woof-Release :: For announcing a new released =version=.

* Usage

** Announce a release

: From: xxx@xxx.xx
: X-Woof-Release: 10.2
: ...

will declare =10.2= as a new release.

** Confirm a bug

: From: xxx@xxx.xx
: X-Woof-Bug: confirmed
: ...

will mark a bug discussed in a thread as =confirmed= (see synonyms below.)

** Confirm a fix

: From: xxx@xxx.xx
: X-Woof-Bug: fixed
: ...

will mark the known bug discussed in a thread as =fixed= (see synonyms below.)

** Request help

: From: xxx@xxx.xx
: X-Woof-Help: confirmed
: ...

will add a request for help from within a thread.

** Cancel a help request

: From: xxx@xxx.xx
: X-Woof-Help: canceled
: ...

will mark the help request as canceled.

** Announce a change

: From: xxx@xxx.xx
: X-Woof-Change: 1234567879 8.4
: ...

will declare commit =1234567879= as an upcoming change for the /future/
release version =8.4=.  When the =8.4= release is done, the change will
not be advertized anymore.

: From: xxx@xxx.xx
: X-Woof-Change: 1234567879 8.4.2 8.5
: ...

will declare commit =1234567879= as an upcoming change for the /future/
release versions =8.4= /or/ =8.5=.  (If, for any reason, version =8.4.2= is
not released and version =8.5= is released instead, the change will not
be advertized anymore.)

You can also omit the commit:

: From: xxx@xxx.xx
: X-Woof-Change: 8.4
: ...

Note that in this case, only one version is allowed.

** Cancel a change

: From: xxx@xxx.xx
: X-Woof-Change: cancel
: ...

will cancel a change that was announced in the same thread.

** Annotations for bugs and help requests

By default, the summary for bugs and help requests is the subject of
the email with the =X-Woof-Bug= or =X-Woof-Help= header.

Sometimes, the subject of the email is not specific enough and you
don't want to change the subject and start a subthread.  

Instead, you can simply use the =X-Woof-Bug= or =X-Woof-Help= header to
add your summary.  For example:

: From: xxx@xxx.xx
: X-Woof-Bug: X does Y instead of doing Z, as expected.
: ...

will mark the bug discussed in a thread as =confirmed= and use ~X does Y
instead of doing Z, as expected.~ as the summary for this bug.

** Synonyms

- =confirmed=, =true=, =t=
- =canceled=, =cancel=, =closed=, =close=, =done=, =fixed=, =nil=.

* Configure

You need to set some environment variables to let the application run.

See [[file:src/bzg/config.clj]] for the list of required variables.

Run this to check your configuration:

: ~$ cd woof/
: ~$ clj -A:test:runner

* Deploy

: ~$ cd woof/
: ~$ clj -A:uberjar
: ~$ java -jar woof.jar

* Contribute

Woof is alpha software.  It is being tested to advertize updates from
[[https://updates.orgmode.org][Org-mode]] but you should be able to use it for any project, provided
that the maintainers on a mailing list agree to use Woof headers.

That said, contributions are welcome!

* Support the Clojure(script) ecosystem

If you like Clojure(script), please consider supporting maintainers by
donating to [[https://www.clojuriststogether.org][clojuriststogether.org]].
* License

Â© Bastien Guerry 2020

Woof is released under [[file:LICENSE][the EPL 2.0 license]].
